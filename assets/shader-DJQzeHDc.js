import{K as he,L as We,Q as qe,b as Ye,U as oe,o as Ae,X as Xe,Y as Ke,Z as Ge,_ as Ze,e as $e,j as ye}from"./index-X9TZfZwC.js";import"./models-DxYzYOs0.js";function Je(p,s=1e-4){s=Math.max(s,Number.EPSILON);const g={},d=p.getIndex(),a=p.getAttribute("position"),m=d?d.count:a.count;let S=0;const O=Object.keys(p.attributes),j={},P={},E=[],z=["getX","getY","getZ","getW"],k=["setX","setY","setZ","setW"];for(let M=0,y=O.length;M<y;M++){const v=O[M],C=p.attributes[v];j[v]=new C.constructor(new C.array.constructor(C.count*C.itemSize),C.itemSize,C.normalized);const u=p.morphAttributes[v];u&&(P[v]||(P[v]=[]),u.forEach((f,n)=>{const o=new f.array.constructor(f.count*f.itemSize);P[v][n]=new f.constructor(o,f.itemSize,f.normalized)}))}const B=s*.5,_=Math.log10(1/s),T=Math.pow(10,_),h=B*T;for(let M=0;M<m;M++){const y=d?d.getX(M):M;let v="";for(let C=0,u=O.length;C<u;C++){const f=O[C],n=p.getAttribute(f),o=n.itemSize;for(let t=0;t<o;t++)v+=`${~~(n[z[t]](y)*T+h)},`}if(v in g)E.push(g[v]);else{for(let C=0,u=O.length;C<u;C++){const f=O[C],n=p.getAttribute(f),o=p.morphAttributes[f],t=n.itemSize,c=j[f],l=P[f];for(let F=0;F<t;F++){const L=z[F],R=k[F];if(c[R](S,n[L](y)),o)for(let D=0,U=o.length;D<U;D++)l[D][R](S,o[D][L](y))}}g[v]=S,E.push(S),S++}}const w=p.clone();for(const M in p.attributes){const y=j[M];if(w.setAttribute(M,new y.constructor(y.array.slice(0,S*y.itemSize),y.itemSize,y.normalized)),M in P)for(let v=0;v<P[M].length;v++){const C=P[M][v];w.morphAttributes[M][v]=new C.constructor(C.array.slice(0,S*C.itemSize),C.itemSize,C.normalized)}}return w.setIndex(E),w}var Ie=`uniform float uTime;\r
uniform float uPositionFrequency;\r
uniform float uTimeFrequency;\r
uniform float uStrength;\r
uniform float uWarpPositionFrequency;\r
uniform float uWarpTimeFrequency;\r
uniform float uWarpStrength;

attribute vec3 tangent;

varying vec2 vUv;\r
varying float vWobble;

vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}
float permute(float x){return floor(mod(((x*34.0)+1.0)*x, 289.0));}
vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}
float taylorInvSqrt(float r){return 1.79284291400159 - 0.85373472095314 * r;}

vec4 grad4(float j, vec4 ip){
  const vec4 ones = vec4(1.0, 1.0, 1.0, -1.0);
  vec4 p,s;

  p.xyz = floor( fract (vec3(j) * ip.xyz) * 7.0) * ip.z - 1.0;
  p.w = 1.5 - dot(abs(p.xyz), ones.xyz);
  s = vec4(lessThan(p, vec4(0.0)));
  p.xyz = p.xyz + (s.xyz*2.0 - 1.0) * s.www; 

  return p;
}

float simplexNoise4d(vec4 v){
  const vec2  C = vec2( 0.138196601125010504,  
                        0.309016994374947451); 

  vec4 i  = floor(v + dot(v, C.yyyy) );
  vec4 x0 = v -   i + dot(i, C.xxxx);

  vec4 i0;

  vec3 isX = step( x0.yzw, x0.xxx );
  vec3 isYZ = step( x0.zww, x0.yyz );

  i0.x = isX.x + isX.y + isX.z;
  i0.yzw = 1.0 - isX;

  i0.y += isYZ.x + isYZ.y;
  i0.zw += 1.0 - isYZ.xy;

  i0.z += isYZ.z;
  i0.w += 1.0 - isYZ.z;

  
  vec4 i3 = clamp( i0, 0.0, 1.0 );
  vec4 i2 = clamp( i0-1.0, 0.0, 1.0 );
  vec4 i1 = clamp( i0-2.0, 0.0, 1.0 );

  
  vec4 x1 = x0 - i1 + 1.0 * C.xxxx;
  vec4 x2 = x0 - i2 + 2.0 * C.xxxx;
  vec4 x3 = x0 - i3 + 3.0 * C.xxxx;
  vec4 x4 = x0 - 1.0 + 4.0 * C.xxxx;

  i = mod(i, 289.0); 
  float j0 = permute( permute( permute( permute(i.w) + i.z) + i.y) + i.x);
  vec4 j1 = permute( permute( permute( permute (
             i.w + vec4(i1.w, i2.w, i3.w, 1.0 ))
           + i.z + vec4(i1.z, i2.z, i3.z, 1.0 ))
           + i.y + vec4(i1.y, i2.y, i3.y, 1.0 ))
           + i.x + vec4(i1.x, i2.x, i3.x, 1.0 ));

  vec4 ip = vec4(1.0/294.0, 1.0/49.0, 1.0/7.0, 0.0) ;

  vec4 p0 = grad4(j0,   ip);
  vec4 p1 = grad4(j1.x, ip);
  vec4 p2 = grad4(j1.y, ip);
  vec4 p3 = grad4(j1.z, ip);
  vec4 p4 = grad4(j1.w, ip);

  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
  p0 *= norm.x;
  p1 *= norm.y;
  p2 *= norm.z;
  p3 *= norm.w;
  p4 *= taylorInvSqrt(dot(p4,p4));

  vec3 m0 = max(0.6 - vec3(dot(x0,x0), dot(x1,x1), dot(x2,x2)), 0.0);
  vec2 m1 = max(0.6 - vec2(dot(x3,x3), dot(x4,x4)            ), 0.0);
  m0 = m0 * m0;
  m1 = m1 * m1;
  return 49.0 * ( dot(m0*m0, vec3( dot( p0, x0 ), dot( p1, x1 ), dot( p2, x2 )))
               + dot(m1*m1, vec2( dot( p3, x3 ), dot( p4, x4 ) ) ) ) ;

}

float getWobble(vec3 position){

    vec3 warpedPosition = position;\r
    warpedPosition += simplexNoise4d(vec4(\r
        position * uWarpPositionFrequency,\r
        uTime * uWarpTimeFrequency\r
        )) * uWarpStrength;\r
    return simplexNoise4d(vec4(\r
        warpedPosition * uPositionFrequency, \r
        uTime * uTimeFrequency\r
        )) * uStrength;\r
}\r
void main()\r
{\r
    vec3 biTangent = cross(normal, tangent.xyz);

     
     float shift = 0.01;\r
     vec3 positionA = csm_Position +  tangent.xyz * shift;\r
     vec3 positionB = csm_Position + biTangent * shift;

    
    float wobble = getWobble(csm_Position);      \r
    csm_Position += normal * wobble;\r
    positionA += getWobble(positionA) * normal;\r
    positionB += getWobble(positionB) * normal;

    
    vec3 toA = normalize(positionA - csm_Position);\r
    vec3 toB = normalize(positionB - csm_Position);\r
    csm_Normal = cross(toB, toA);\r
    
    vUv = uv;\r
    vWobble = wobble/uStrength;\r
}`,Qe=`varying float vWobble;\r
uniform vec3 ballColor;\r
uniform vec3 ballColor2;\r
void main()\r
{\r
    float colorMixed = smoothstep(-1.0, 1.0, vWobble);\r
    csm_DiffuseColor.rgb = mix(ballColor, ballColor2, colorMixed);

    
    
    csm_Roughness = 1.5 - colorMixed;\r
}`;function de(p){throw new Error('Could not dynamically require "'+p+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ne={exports:{}};(function(p,s){(function(g){p.exports=g()})(function(){return function g(d,a,m){function S(P,E){if(!a[P]){if(!d[P]){var z=typeof de=="function"&&de;if(!E&&z)return z(P,!0);if(O)return O(P,!0);throw new Error("Cannot find module '"+P+"'")}E=a[P]={exports:{}},d[P][0].call(E.exports,function(k){var B=d[P][1][k];return S(B||k)},E,E.exports,g,d,a,m)}return a[P].exports}for(var O=typeof de=="function"&&de,j=0;j<m.length;j++)S(m[j]);return S}({1:[function(g,d,a){(function(m,S,O,j,P,E,z,k,B){var _=g("crypto");function T(u,f){f=M(u,f);var n;return(n=f.algorithm!=="passthrough"?_.createHash(f.algorithm):new C).write===void 0&&(n.write=n.update,n.end=n.update),v(f,n).dispatch(u),n.update||n.end(""),n.digest?n.digest(f.encoding==="buffer"?void 0:f.encoding):(u=n.read(),f.encoding!=="buffer"?u.toString(f.encoding):u)}(a=d.exports=T).sha1=function(u){return T(u)},a.keys=function(u){return T(u,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},a.MD5=function(u){return T(u,{algorithm:"md5",encoding:"hex"})},a.keysMD5=function(u){return T(u,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var h=_.getHashes?_.getHashes().slice():["sha1","md5"],w=(h.push("passthrough"),["buffer","hex","binary","base64"]);function M(u,f){var n={};if(n.algorithm=(f=f||{}).algorithm||"sha1",n.encoding=f.encoding||"hex",n.excludeValues=!!f.excludeValues,n.algorithm=n.algorithm.toLowerCase(),n.encoding=n.encoding.toLowerCase(),n.ignoreUnknown=f.ignoreUnknown===!0,n.respectType=f.respectType!==!1,n.respectFunctionNames=f.respectFunctionNames!==!1,n.respectFunctionProperties=f.respectFunctionProperties!==!1,n.unorderedArrays=f.unorderedArrays===!0,n.unorderedSets=f.unorderedSets!==!1,n.unorderedObjects=f.unorderedObjects!==!1,n.replacer=f.replacer||void 0,n.excludeKeys=f.excludeKeys||void 0,u===void 0)throw new Error("Object argument required.");for(var o=0;o<h.length;++o)h[o].toLowerCase()===n.algorithm.toLowerCase()&&(n.algorithm=h[o]);if(h.indexOf(n.algorithm)===-1)throw new Error('Algorithm "'+n.algorithm+'"  not supported. supported values: '+h.join(", "));if(w.indexOf(n.encoding)===-1&&n.algorithm!=="passthrough")throw new Error('Encoding "'+n.encoding+'"  not supported. supported values: '+w.join(", "));return n}function y(u){if(typeof u=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(u))!=null}function v(u,f,n){n=n||[];function o(t){return f.update?f.update(t,"utf8"):f.write(t,"utf8")}return{dispatch:function(t){return this["_"+((t=u.replacer?u.replacer(t):t)===null?"null":typeof t)](t)},_object:function(t){var c,l=Object.prototype.toString.call(t),F=/\[object (.*)\]/i.exec(l);if(F=(F=F?F[1]:"unknown:["+l+"]").toLowerCase(),0<=(l=n.indexOf(t)))return this.dispatch("[CIRCULAR:"+l+"]");if(n.push(t),O!==void 0&&O.isBuffer&&O.isBuffer(t))return o("buffer:"),o(t);if(F==="object"||F==="function"||F==="asyncfunction")return l=Object.keys(t),u.unorderedObjects&&(l=l.sort()),u.respectType===!1||y(t)||l.splice(0,0,"prototype","__proto__","constructor"),u.excludeKeys&&(l=l.filter(function(L){return!u.excludeKeys(L)})),o("object:"+l.length+":"),c=this,l.forEach(function(L){c.dispatch(L),o(":"),u.excludeValues||c.dispatch(t[L]),o(",")});if(!this["_"+F]){if(u.ignoreUnknown)return o("["+F+"]");throw new Error('Unknown object type "'+F+'"')}this["_"+F](t)},_array:function(t,L){L=L!==void 0?L:u.unorderedArrays!==!1;var l=this;if(o("array:"+t.length+":"),!L||t.length<=1)return t.forEach(function(R){return l.dispatch(R)});var F=[],L=t.map(function(R){var D=new C,U=n.slice();return v(u,D,U).dispatch(R),F=F.concat(U.slice(n.length)),D.read().toString()});return n=n.concat(F),L.sort(),this._array(L,!1)},_date:function(t){return o("date:"+t.toJSON())},_symbol:function(t){return o("symbol:"+t.toString())},_error:function(t){return o("error:"+t.toString())},_boolean:function(t){return o("bool:"+t.toString())},_string:function(t){o("string:"+t.length+":"),o(t.toString())},_function:function(t){o("fn:"),y(t)?this.dispatch("[native]"):this.dispatch(t.toString()),u.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(t.name)),u.respectFunctionProperties&&this._object(t)},_number:function(t){return o("number:"+t.toString())},_xml:function(t){return o("xml:"+t.toString())},_null:function(){return o("Null")},_undefined:function(){return o("Undefined")},_regexp:function(t){return o("regex:"+t.toString())},_uint8array:function(t){return o("uint8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint8clampedarray:function(t){return o("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(t))},_int8array:function(t){return o("int8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint16array:function(t){return o("uint16array:"),this.dispatch(Array.prototype.slice.call(t))},_int16array:function(t){return o("int16array:"),this.dispatch(Array.prototype.slice.call(t))},_uint32array:function(t){return o("uint32array:"),this.dispatch(Array.prototype.slice.call(t))},_int32array:function(t){return o("int32array:"),this.dispatch(Array.prototype.slice.call(t))},_float32array:function(t){return o("float32array:"),this.dispatch(Array.prototype.slice.call(t))},_float64array:function(t){return o("float64array:"),this.dispatch(Array.prototype.slice.call(t))},_arraybuffer:function(t){return o("arraybuffer:"),this.dispatch(new Uint8Array(t))},_url:function(t){return o("url:"+t.toString())},_map:function(t){return o("map:"),t=Array.from(t),this._array(t,u.unorderedSets!==!1)},_set:function(t){return o("set:"),t=Array.from(t),this._array(t,u.unorderedSets!==!1)},_file:function(t){return o("file:"),this.dispatch([t.name,t.size,t.type,t.lastModfied])},_blob:function(){if(u.ignoreUnknown)return o("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return o("domwindow")},_bigint:function(t){return o("bigint:"+t.toString())},_process:function(){return o("process")},_timer:function(){return o("timer")},_pipe:function(){return o("pipe")},_tcp:function(){return o("tcp")},_udp:function(){return o("udp")},_tty:function(){return o("tty")},_statwatcher:function(){return o("statwatcher")},_securecontext:function(){return o("securecontext")},_connection:function(){return o("connection")},_zlib:function(){return o("zlib")},_context:function(){return o("context")},_nodescript:function(){return o("nodescript")},_httpparser:function(){return o("httpparser")},_dataview:function(){return o("dataview")},_signal:function(){return o("signal")},_fsevent:function(){return o("fsevent")},_tlswrap:function(){return o("tlswrap")}}}function C(){return{buf:"",write:function(u){this.buf+=u},end:function(u){this.buf+=u},read:function(){return this.buf}}}a.writeToStream=function(u,f,n){return n===void 0&&(n=f,f={}),v(f=M(u,f),n).dispatch(u)}}).call(this,g("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},g("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(g,d,a){(function(m,S,O,j,P,E,z,k,B){(function(_){var T=typeof Uint8Array<"u"?Uint8Array:Array,h=43,w=47,M=48,y=97,v=65,C=45,u=95;function f(n){return n=n.charCodeAt(0),n===h||n===C?62:n===w||n===u?63:n<M?-1:n<M+10?n-M+26+26:n<v+26?n-v:n<y+26?n-y+26:void 0}_.toByteArray=function(n){var o,t;if(0<n.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var c=n.length,c=n.charAt(c-2)==="="?2:n.charAt(c-1)==="="?1:0,l=new T(3*n.length/4-c),F=0<c?n.length-4:n.length,L=0;function R(D){l[L++]=D}for(o=0;o<F;o+=4,0)R((16711680&(t=f(n.charAt(o))<<18|f(n.charAt(o+1))<<12|f(n.charAt(o+2))<<6|f(n.charAt(o+3))))>>16),R((65280&t)>>8),R(255&t);return c==2?R(255&(t=f(n.charAt(o))<<2|f(n.charAt(o+1))>>4)):c==1&&(R((t=f(n.charAt(o))<<10|f(n.charAt(o+1))<<4|f(n.charAt(o+2))>>2)>>8&255),R(255&t)),l},_.fromByteArray=function(n){var o,t,c,l,F=n.length%3,L="";function R(D){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(D)}for(o=0,c=n.length-F;o<c;o+=3)t=(n[o]<<16)+(n[o+1]<<8)+n[o+2],L+=R((l=t)>>18&63)+R(l>>12&63)+R(l>>6&63)+R(63&l);switch(F){case 1:L=(L+=R((t=n[n.length-1])>>2))+R(t<<4&63)+"==";break;case 2:L=(L=(L+=R((t=(n[n.length-2]<<8)+n[n.length-1])>>10))+R(t>>4&63))+R(t<<2&63)+"="}return L}})(a===void 0?this.base64js={}:a)}).call(this,g("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},g("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(g,d,a){(function(m,S,h,j,P,E,z,k,B){var _=g("base64-js"),T=g("ieee754");function h(e,r,i){if(!(this instanceof h))return new h(e,r,i);var x,b,I,H,X=typeof e;if(r==="base64"&&X=="string")for(e=(H=e).trim?H.trim():H.replace(/^\s+|\s+$/g,"");e.length%4!=0;)e+="=";if(X=="number")x=Y(e);else if(X=="string")x=h.byteLength(e,r);else{if(X!="object")throw new Error("First argument needs to be a number, array or string.");x=Y(e.length)}if(h._useTypedArrays?b=h._augment(new Uint8Array(x)):((b=this).length=x,b._isBuffer=!0),h._useTypedArrays&&typeof e.byteLength=="number")b._set(e);else if(q(H=e)||h.isBuffer(H)||H&&typeof H=="object"&&typeof H.length=="number")for(I=0;I<x;I++)h.isBuffer(e)?b[I]=e.readUInt8(I):b[I]=e[I];else if(X=="string")b.write(e,0,r);else if(X=="number"&&!h._useTypedArrays&&!i)for(I=0;I<x;I++)b[I]=0;return b}function w(e,r,i,x){return h._charsWritten=fe(function(b){for(var I=[],H=0;H<b.length;H++)I.push(255&b.charCodeAt(H));return I}(r),e,i,x)}function M(e,r,i,x){return h._charsWritten=fe(function(b){for(var I,H,X=[],G=0;G<b.length;G++)H=b.charCodeAt(G),I=H>>8,H=H%256,X.push(H),X.push(I);return X}(r),e,i,x)}function y(e,r,i){var x="";i=Math.min(e.length,i);for(var b=r;b<i;b++)x+=String.fromCharCode(e[b]);return x}function v(e,r,i,I){I||(A(typeof i=="boolean","missing or invalid endian"),A(r!=null,"missing offset"),A(r+1<e.length,"Trying to read beyond buffer length"));var b,I=e.length;if(!(I<=r))return i?(b=e[r],r+1<I&&(b|=e[r+1]<<8)):(b=e[r]<<8,r+1<I&&(b|=e[r+1])),b}function C(e,r,i,I){I||(A(typeof i=="boolean","missing or invalid endian"),A(r!=null,"missing offset"),A(r+3<e.length,"Trying to read beyond buffer length"));var b,I=e.length;if(!(I<=r))return i?(r+2<I&&(b=e[r+2]<<16),r+1<I&&(b|=e[r+1]<<8),b|=e[r],r+3<I&&(b+=e[r+3]<<24>>>0)):(r+1<I&&(b=e[r+1]<<16),r+2<I&&(b|=e[r+2]<<8),r+3<I&&(b|=e[r+3]),b+=e[r]<<24>>>0),b}function u(e,r,i,x){if(x||(A(typeof i=="boolean","missing or invalid endian"),A(r!=null,"missing offset"),A(r+1<e.length,"Trying to read beyond buffer length")),!(e.length<=r))return x=v(e,r,i,!0),32768&x?-1*(65535-x+1):x}function f(e,r,i,x){if(x||(A(typeof i=="boolean","missing or invalid endian"),A(r!=null,"missing offset"),A(r+3<e.length,"Trying to read beyond buffer length")),!(e.length<=r))return x=C(e,r,i,!0),2147483648&x?-1*(4294967295-x+1):x}function n(e,r,i,x){return x||(A(typeof i=="boolean","missing or invalid endian"),A(r+3<e.length,"Trying to read beyond buffer length")),T.read(e,r,i,23,4)}function o(e,r,i,x){return x||(A(typeof i=="boolean","missing or invalid endian"),A(r+7<e.length,"Trying to read beyond buffer length")),T.read(e,r,i,52,8)}function t(e,r,i,x,b){if(b||(A(r!=null,"missing value"),A(typeof x=="boolean","missing or invalid endian"),A(i!=null,"missing offset"),A(i+1<e.length,"trying to write beyond buffer length"),ge(r,65535)),b=e.length,!(b<=i))for(var I=0,H=Math.min(b-i,2);I<H;I++)e[i+I]=(r&255<<8*(x?I:1-I))>>>8*(x?I:1-I)}function c(e,r,i,x,b){if(b||(A(r!=null,"missing value"),A(typeof x=="boolean","missing or invalid endian"),A(i!=null,"missing offset"),A(i+3<e.length,"trying to write beyond buffer length"),ge(r,4294967295)),b=e.length,!(b<=i))for(var I=0,H=Math.min(b-i,4);I<H;I++)e[i+I]=r>>>8*(x?I:3-I)&255}function l(e,r,i,x,b){b||(A(r!=null,"missing value"),A(typeof x=="boolean","missing or invalid endian"),A(i!=null,"missing offset"),A(i+1<e.length,"Trying to write beyond buffer length"),me(r,32767,-32768)),e.length<=i||t(e,0<=r?r:65535+r+1,i,x,b)}function F(e,r,i,x,b){b||(A(r!=null,"missing value"),A(typeof x=="boolean","missing or invalid endian"),A(i!=null,"missing offset"),A(i+3<e.length,"Trying to write beyond buffer length"),me(r,2147483647,-2147483648)),e.length<=i||c(e,0<=r?r:4294967295+r+1,i,x,b)}function L(e,r,i,x,b){b||(A(r!=null,"missing value"),A(typeof x=="boolean","missing or invalid endian"),A(i!=null,"missing offset"),A(i+3<e.length,"Trying to write beyond buffer length"),Se(r,34028234663852886e22,-34028234663852886e22)),e.length<=i||T.write(e,r,i,x,23,4)}function R(e,r,i,x,b){b||(A(r!=null,"missing value"),A(typeof x=="boolean","missing or invalid endian"),A(i!=null,"missing offset"),A(i+7<e.length,"Trying to write beyond buffer length"),Se(r,17976931348623157e292,-17976931348623157e292)),e.length<=i||T.write(e,r,i,x,52,8)}a.Buffer=h,a.SlowBuffer=h,a.INSPECT_MAX_BYTES=50,h.poolSize=8192,h._useTypedArrays=function(){try{var e=new ArrayBuffer(0),r=new Uint8Array(e);return r.foo=function(){return 42},r.foo()===42&&typeof r.subarray=="function"}catch{return!1}}(),h.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.isBuffer=function(e){return!(e==null||!e._isBuffer)},h.byteLength=function(e,r){var i;switch(e+="",r||"utf8"){case"hex":i=e.length/2;break;case"utf8":case"utf-8":i=re(e).length;break;case"ascii":case"binary":case"raw":i=e.length;break;case"base64":i=xe(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":i=2*e.length;break;default:throw new Error("Unknown encoding")}return i},h.concat=function(e,r){if(A(q(e),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),e.length===0)return new h(0);if(e.length===1)return e[0];if(typeof r!="number")for(b=r=0;b<e.length;b++)r+=e[b].length;for(var i=new h(r),x=0,b=0;b<e.length;b++){var I=e[b];I.copy(i,x),x+=I.length}return i},h.prototype.write=function(e,r,i,x){isFinite(r)?isFinite(i)||(x=i,i=void 0):(G=x,x=r,r=i,i=G),r=Number(r)||0;var b,I,H,X,G=this.length-r;switch((!i||G<(i=Number(i)))&&(i=G),x=String(x||"utf8").toLowerCase()){case"hex":b=function(te,$,J,Z){J=Number(J)||0;var K=te.length-J;(!Z||K<(Z=Number(Z)))&&(Z=K),A((K=$.length)%2==0,"Invalid hex string"),K/2<Z&&(Z=K/2);for(var ae=0;ae<Z;ae++){var Ee=parseInt($.substr(2*ae,2),16);A(!isNaN(Ee),"Invalid hex string"),te[J+ae]=Ee}return h._charsWritten=2*ae,ae}(this,e,r,i);break;case"utf8":case"utf-8":I=this,H=r,X=i,b=h._charsWritten=fe(re(e),I,H,X);break;case"ascii":case"binary":b=w(this,e,r,i);break;case"base64":I=this,H=r,X=i,b=h._charsWritten=fe(xe(e),I,H,X);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":b=M(this,e,r,i);break;default:throw new Error("Unknown encoding")}return b},h.prototype.toString=function(e,r,i){var x,b,I,H,X=this;if(e=String(e||"utf8").toLowerCase(),r=Number(r)||0,(i=i!==void 0?Number(i):X.length)===r)return"";switch(e){case"hex":x=function(G,te,$){var J=G.length;(!te||te<0)&&(te=0),(!$||$<0||J<$)&&($=J);for(var Z="",K=te;K<$;K++)Z+=V(G[K]);return Z}(X,r,i);break;case"utf8":case"utf-8":x=function(G,te,$){var J="",Z="";$=Math.min(G.length,$);for(var K=te;K<$;K++)G[K]<=127?(J+=Me(Z)+String.fromCharCode(G[K]),Z=""):Z+="%"+G[K].toString(16);return J+Me(Z)}(X,r,i);break;case"ascii":case"binary":x=y(X,r,i);break;case"base64":b=X,H=i,x=(I=r)===0&&H===b.length?_.fromByteArray(b):_.fromByteArray(b.slice(I,H));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":x=function(G,te,$){for(var J=G.slice(te,$),Z="",K=0;K<J.length;K+=2)Z+=String.fromCharCode(J[K]+256*J[K+1]);return Z}(X,r,i);break;default:throw new Error("Unknown encoding")}return x},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},h.prototype.copy=function(e,r,i,x){if(r=r||0,(x=x||x===0?x:this.length)!==(i=i||0)&&e.length!==0&&this.length!==0){A(i<=x,"sourceEnd < sourceStart"),A(0<=r&&r<e.length,"targetStart out of bounds"),A(0<=i&&i<this.length,"sourceStart out of bounds"),A(0<=x&&x<=this.length,"sourceEnd out of bounds"),x>this.length&&(x=this.length);var b=(x=e.length-r<x-i?e.length-r+i:x)-i;if(b<100||!h._useTypedArrays)for(var I=0;I<b;I++)e[I+r]=this[I+i];else e._set(this.subarray(i,i+b),r)}},h.prototype.slice=function(e,r){var i=this.length;if(e=U(e,i,0),r=U(r,i,i),h._useTypedArrays)return h._augment(this.subarray(e,r));for(var x=r-e,b=new h(x,void 0,!0),I=0;I<x;I++)b[I]=this[I+e];return b},h.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},h.prototype.set=function(e,r){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,r)},h.prototype.readUInt8=function(e,r){if(r||(A(e!=null,"missing offset"),A(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return this[e]},h.prototype.readUInt16LE=function(e,r){return v(this,e,!0,r)},h.prototype.readUInt16BE=function(e,r){return v(this,e,!1,r)},h.prototype.readUInt32LE=function(e,r){return C(this,e,!0,r)},h.prototype.readUInt32BE=function(e,r){return C(this,e,!1,r)},h.prototype.readInt8=function(e,r){if(r||(A(e!=null,"missing offset"),A(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return 128&this[e]?-1*(255-this[e]+1):this[e]},h.prototype.readInt16LE=function(e,r){return u(this,e,!0,r)},h.prototype.readInt16BE=function(e,r){return u(this,e,!1,r)},h.prototype.readInt32LE=function(e,r){return f(this,e,!0,r)},h.prototype.readInt32BE=function(e,r){return f(this,e,!1,r)},h.prototype.readFloatLE=function(e,r){return n(this,e,!0,r)},h.prototype.readFloatBE=function(e,r){return n(this,e,!1,r)},h.prototype.readDoubleLE=function(e,r){return o(this,e,!0,r)},h.prototype.readDoubleBE=function(e,r){return o(this,e,!1,r)},h.prototype.writeUInt8=function(e,r,i){i||(A(e!=null,"missing value"),A(r!=null,"missing offset"),A(r<this.length,"trying to write beyond buffer length"),ge(e,255)),r>=this.length||(this[r]=e)},h.prototype.writeUInt16LE=function(e,r,i){t(this,e,r,!0,i)},h.prototype.writeUInt16BE=function(e,r,i){t(this,e,r,!1,i)},h.prototype.writeUInt32LE=function(e,r,i){c(this,e,r,!0,i)},h.prototype.writeUInt32BE=function(e,r,i){c(this,e,r,!1,i)},h.prototype.writeInt8=function(e,r,i){i||(A(e!=null,"missing value"),A(r!=null,"missing offset"),A(r<this.length,"Trying to write beyond buffer length"),me(e,127,-128)),r>=this.length||(0<=e?this.writeUInt8(e,r,i):this.writeUInt8(255+e+1,r,i))},h.prototype.writeInt16LE=function(e,r,i){l(this,e,r,!0,i)},h.prototype.writeInt16BE=function(e,r,i){l(this,e,r,!1,i)},h.prototype.writeInt32LE=function(e,r,i){F(this,e,r,!0,i)},h.prototype.writeInt32BE=function(e,r,i){F(this,e,r,!1,i)},h.prototype.writeFloatLE=function(e,r,i){L(this,e,r,!0,i)},h.prototype.writeFloatBE=function(e,r,i){L(this,e,r,!1,i)},h.prototype.writeDoubleLE=function(e,r,i){R(this,e,r,!0,i)},h.prototype.writeDoubleBE=function(e,r,i){R(this,e,r,!1,i)},h.prototype.fill=function(e,r,i){if(r=r||0,i=i||this.length,A(typeof(e=typeof(e=e||0)=="string"?e.charCodeAt(0):e)=="number"&&!isNaN(e),"value is not a number"),A(r<=i,"end < start"),i!==r&&this.length!==0){A(0<=r&&r<this.length,"start out of bounds"),A(0<=i&&i<=this.length,"end out of bounds");for(var x=r;x<i;x++)this[x]=e}},h.prototype.inspect=function(){for(var e=[],r=this.length,i=0;i<r;i++)if(e[i]=V(this[i]),i===a.INSPECT_MAX_BYTES){e[i+1]="...";break}return"<Buffer "+e.join(" ")+">"},h.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(h._useTypedArrays)return new h(this).buffer;for(var e=new Uint8Array(this.length),r=0,i=e.length;r<i;r+=1)e[r]=this[r];return e.buffer};var D=h.prototype;function U(e,r,i){return typeof e!="number"?i:r<=(e=~~e)?r:0<=e||0<=(e+=r)?e:0}function Y(e){return(e=~~Math.ceil(+e))<0?0:e}function q(e){return(Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"})(e)}function V(e){return e<16?"0"+e.toString(16):e.toString(16)}function re(e){for(var r=[],i=0;i<e.length;i++){var x=e.charCodeAt(i);if(x<=127)r.push(e.charCodeAt(i));else for(var b=i,I=(55296<=x&&x<=57343&&i++,encodeURIComponent(e.slice(b,i+1)).substr(1).split("%")),H=0;H<I.length;H++)r.push(parseInt(I[H],16))}return r}function xe(e){return _.toByteArray(e)}function fe(e,r,i,x){for(var b=0;b<x&&!(b+i>=r.length||b>=e.length);b++)r[b+i]=e[b];return b}function Me(e){try{return decodeURIComponent(e)}catch{return"�"}}function ge(e,r){A(typeof e=="number","cannot write a non-number as a number"),A(0<=e,"specified a negative value for writing an unsigned value"),A(e<=r,"value is larger than maximum value for type"),A(Math.floor(e)===e,"value has a fractional component")}function me(e,r,i){A(typeof e=="number","cannot write a non-number as a number"),A(e<=r,"value larger than maximum allowed value"),A(i<=e,"value smaller than minimum allowed value"),A(Math.floor(e)===e,"value has a fractional component")}function Se(e,r,i){A(typeof e=="number","cannot write a non-number as a number"),A(e<=r,"value larger than maximum allowed value"),A(i<=e,"value smaller than minimum allowed value")}function A(e,r){if(!e)throw new Error(r||"Failed assertion")}h._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=D.get,e.set=D.set,e.write=D.write,e.toString=D.toString,e.toLocaleString=D.toString,e.toJSON=D.toJSON,e.copy=D.copy,e.slice=D.slice,e.readUInt8=D.readUInt8,e.readUInt16LE=D.readUInt16LE,e.readUInt16BE=D.readUInt16BE,e.readUInt32LE=D.readUInt32LE,e.readUInt32BE=D.readUInt32BE,e.readInt8=D.readInt8,e.readInt16LE=D.readInt16LE,e.readInt16BE=D.readInt16BE,e.readInt32LE=D.readInt32LE,e.readInt32BE=D.readInt32BE,e.readFloatLE=D.readFloatLE,e.readFloatBE=D.readFloatBE,e.readDoubleLE=D.readDoubleLE,e.readDoubleBE=D.readDoubleBE,e.writeUInt8=D.writeUInt8,e.writeUInt16LE=D.writeUInt16LE,e.writeUInt16BE=D.writeUInt16BE,e.writeUInt32LE=D.writeUInt32LE,e.writeUInt32BE=D.writeUInt32BE,e.writeInt8=D.writeInt8,e.writeInt16LE=D.writeInt16LE,e.writeInt16BE=D.writeInt16BE,e.writeInt32LE=D.writeInt32LE,e.writeInt32BE=D.writeInt32BE,e.writeFloatLE=D.writeFloatLE,e.writeFloatBE=D.writeFloatBE,e.writeDoubleLE=D.writeDoubleLE,e.writeDoubleBE=D.writeDoubleBE,e.fill=D.fill,e.inspect=D.inspect,e.toArrayBuffer=D.toArrayBuffer,e}}).call(this,g("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},g("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(g,d,a){(function(m,S,_,j,P,E,z,k,B){var _=g("buffer").Buffer,T=4,h=new _(T);h.fill(0),d.exports={hash:function(w,M,y,v){for(var C=M(function(t,c){t.length%T!=0&&(l=t.length+(T-t.length%T),t=_.concat([t,h],l));for(var l,F=[],L=c?t.readInt32BE:t.readInt32LE,R=0;R<t.length;R+=T)F.push(L.call(t,R));return F}(w=_.isBuffer(w)?w:new _(w),v),8*w.length),M=v,u=new _(y),f=M?u.writeInt32BE:u.writeInt32LE,n=0;n<C.length;n++)f.call(u,C[n],4*n,!0);return u}}}).call(this,g("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},g("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(g,d,a){(function(m,S,_,j,P,E,z,k,B){var _=g("buffer").Buffer,T=g("./sha"),h=g("./sha256"),w=g("./rng"),M={sha1:T,sha256:h,md5:g("./md5")},y=64,v=new _(y);function C(t,c){var l=M[t=t||"sha1"],F=[];return l||u("algorithm:",t,"is not yet supported"),{update:function(L){return _.isBuffer(L)||(L=new _(L)),F.push(L),L.length,this},digest:function(L){var R=_.concat(F),R=c?function(D,U,Y){_.isBuffer(U)||(U=new _(U)),_.isBuffer(Y)||(Y=new _(Y)),U.length>y?U=D(U):U.length<y&&(U=_.concat([U,v],y));for(var q=new _(y),V=new _(y),re=0;re<y;re++)q[re]=54^U[re],V[re]=92^U[re];return Y=D(_.concat([q,Y])),D(_.concat([V,Y]))}(l,c,R):l(R);return F=null,L?R.toString(L):R}}}function u(){var t=[].slice.call(arguments).join(" ");throw new Error([t,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}v.fill(0),a.createHash=function(t){return C(t)},a.createHmac=C,a.randomBytes=function(t,c){if(!c||!c.call)return new _(w(t));try{c.call(this,void 0,new _(w(t)))}catch(l){c(l)}};var f,n=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],o=function(t){a[t]=function(){u("sorry,",t,"is not implemented yet")}};for(f in n)o(n[f])}).call(this,g("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},g("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(g,d,a){(function(m,S,O,j,P,E,z,k,B){var _=g("./helpers");function T(u,f){u[f>>5]|=128<<f%32,u[14+(f+64>>>9<<4)]=f;for(var n=1732584193,o=-271733879,t=-1732584194,c=271733878,l=0;l<u.length;l+=16){var F=n,L=o,R=t,D=c,n=w(n,o,t,c,u[l+0],7,-680876936),c=w(c,n,o,t,u[l+1],12,-389564586),t=w(t,c,n,o,u[l+2],17,606105819),o=w(o,t,c,n,u[l+3],22,-1044525330);n=w(n,o,t,c,u[l+4],7,-176418897),c=w(c,n,o,t,u[l+5],12,1200080426),t=w(t,c,n,o,u[l+6],17,-1473231341),o=w(o,t,c,n,u[l+7],22,-45705983),n=w(n,o,t,c,u[l+8],7,1770035416),c=w(c,n,o,t,u[l+9],12,-1958414417),t=w(t,c,n,o,u[l+10],17,-42063),o=w(o,t,c,n,u[l+11],22,-1990404162),n=w(n,o,t,c,u[l+12],7,1804603682),c=w(c,n,o,t,u[l+13],12,-40341101),t=w(t,c,n,o,u[l+14],17,-1502002290),n=M(n,o=w(o,t,c,n,u[l+15],22,1236535329),t,c,u[l+1],5,-165796510),c=M(c,n,o,t,u[l+6],9,-1069501632),t=M(t,c,n,o,u[l+11],14,643717713),o=M(o,t,c,n,u[l+0],20,-373897302),n=M(n,o,t,c,u[l+5],5,-701558691),c=M(c,n,o,t,u[l+10],9,38016083),t=M(t,c,n,o,u[l+15],14,-660478335),o=M(o,t,c,n,u[l+4],20,-405537848),n=M(n,o,t,c,u[l+9],5,568446438),c=M(c,n,o,t,u[l+14],9,-1019803690),t=M(t,c,n,o,u[l+3],14,-187363961),o=M(o,t,c,n,u[l+8],20,1163531501),n=M(n,o,t,c,u[l+13],5,-1444681467),c=M(c,n,o,t,u[l+2],9,-51403784),t=M(t,c,n,o,u[l+7],14,1735328473),n=y(n,o=M(o,t,c,n,u[l+12],20,-1926607734),t,c,u[l+5],4,-378558),c=y(c,n,o,t,u[l+8],11,-2022574463),t=y(t,c,n,o,u[l+11],16,1839030562),o=y(o,t,c,n,u[l+14],23,-35309556),n=y(n,o,t,c,u[l+1],4,-1530992060),c=y(c,n,o,t,u[l+4],11,1272893353),t=y(t,c,n,o,u[l+7],16,-155497632),o=y(o,t,c,n,u[l+10],23,-1094730640),n=y(n,o,t,c,u[l+13],4,681279174),c=y(c,n,o,t,u[l+0],11,-358537222),t=y(t,c,n,o,u[l+3],16,-722521979),o=y(o,t,c,n,u[l+6],23,76029189),n=y(n,o,t,c,u[l+9],4,-640364487),c=y(c,n,o,t,u[l+12],11,-421815835),t=y(t,c,n,o,u[l+15],16,530742520),n=v(n,o=y(o,t,c,n,u[l+2],23,-995338651),t,c,u[l+0],6,-198630844),c=v(c,n,o,t,u[l+7],10,1126891415),t=v(t,c,n,o,u[l+14],15,-1416354905),o=v(o,t,c,n,u[l+5],21,-57434055),n=v(n,o,t,c,u[l+12],6,1700485571),c=v(c,n,o,t,u[l+3],10,-1894986606),t=v(t,c,n,o,u[l+10],15,-1051523),o=v(o,t,c,n,u[l+1],21,-2054922799),n=v(n,o,t,c,u[l+8],6,1873313359),c=v(c,n,o,t,u[l+15],10,-30611744),t=v(t,c,n,o,u[l+6],15,-1560198380),o=v(o,t,c,n,u[l+13],21,1309151649),n=v(n,o,t,c,u[l+4],6,-145523070),c=v(c,n,o,t,u[l+11],10,-1120210379),t=v(t,c,n,o,u[l+2],15,718787259),o=v(o,t,c,n,u[l+9],21,-343485551),n=C(n,F),o=C(o,L),t=C(t,R),c=C(c,D)}return Array(n,o,t,c)}function h(u,f,n,o,t,c){return C((f=C(C(f,u),C(o,c)))<<t|f>>>32-t,n)}function w(u,f,n,o,t,c,l){return h(f&n|~f&o,u,f,t,c,l)}function M(u,f,n,o,t,c,l){return h(f&o|n&~o,u,f,t,c,l)}function y(u,f,n,o,t,c,l){return h(f^n^o,u,f,t,c,l)}function v(u,f,n,o,t,c,l){return h(n^(f|~o),u,f,t,c,l)}function C(u,f){var n=(65535&u)+(65535&f);return(u>>16)+(f>>16)+(n>>16)<<16|65535&n}d.exports=function(u){return _.hash(u,T,16)}}).call(this,g("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},g("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(g,d,a){(function(m,S,O,j,P,E,z,k,B){d.exports=function(_){for(var T,h=new Array(_),w=0;w<_;w++)!(3&w)&&(T=4294967296*Math.random()),h[w]=T>>>((3&w)<<3)&255;return h}}).call(this,g("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},g("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(g,d,a){(function(m,S,O,j,P,E,z,k,B){var _=g("./helpers");function T(M,y){M[y>>5]|=128<<24-y%32,M[15+(y+64>>9<<4)]=y;for(var v,C,u,f=Array(80),n=1732584193,o=-271733879,t=-1732584194,c=271733878,l=-1009589776,F=0;F<M.length;F+=16){for(var L=n,R=o,D=t,U=c,Y=l,q=0;q<80;q++){f[q]=q<16?M[F+q]:w(f[q-3]^f[q-8]^f[q-14]^f[q-16],1);var V=h(h(w(n,5),(V=o,C=t,u=c,(v=q)<20?V&C|~V&u:!(v<40)&&v<60?V&C|V&u|C&u:V^C^u)),h(h(l,f[q]),(v=q)<20?1518500249:v<40?1859775393:v<60?-1894007588:-899497514)),l=c,c=t,t=w(o,30),o=n,n=V}n=h(n,L),o=h(o,R),t=h(t,D),c=h(c,U),l=h(l,Y)}return Array(n,o,t,c,l)}function h(M,y){var v=(65535&M)+(65535&y);return(M>>16)+(y>>16)+(v>>16)<<16|65535&v}function w(M,y){return M<<y|M>>>32-y}d.exports=function(M){return _.hash(M,T,20,!0)}}).call(this,g("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},g("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(g,d,a){(function(m,S,O,j,P,E,z,k,B){function _(y,v){var C=(65535&y)+(65535&v);return(y>>16)+(v>>16)+(C>>16)<<16|65535&C}function T(y,v){var C,u=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),f=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),n=new Array(64);y[v>>5]|=128<<24-v%32,y[15+(v+64>>9<<4)]=v;for(var o,t,c=0;c<y.length;c+=16){for(var l=f[0],F=f[1],L=f[2],R=f[3],D=f[4],U=f[5],Y=f[6],q=f[7],V=0;V<64;V++)n[V]=V<16?y[V+c]:_(_(_((t=n[V-2],w(t,17)^w(t,19)^M(t,10)),n[V-7]),(t=n[V-15],w(t,7)^w(t,18)^M(t,3))),n[V-16]),C=_(_(_(_(q,w(t=D,6)^w(t,11)^w(t,25)),D&U^~D&Y),u[V]),n[V]),o=_(w(o=l,2)^w(o,13)^w(o,22),l&F^l&L^F&L),q=Y,Y=U,U=D,D=_(R,C),R=L,L=F,F=l,l=_(C,o);f[0]=_(l,f[0]),f[1]=_(F,f[1]),f[2]=_(L,f[2]),f[3]=_(R,f[3]),f[4]=_(D,f[4]),f[5]=_(U,f[5]),f[6]=_(Y,f[6]),f[7]=_(q,f[7])}return f}var h=g("./helpers"),w=function(y,v){return y>>>v|y<<32-v},M=function(y,v){return y>>>v};d.exports=function(y){return h.hash(y,T,32,!0)}}).call(this,g("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},g("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(g,d,a){(function(m,S,O,j,P,E,z,k,B){a.read=function(_,T,h,w,c){var y,v,C=8*c-w-1,u=(1<<C)-1,f=u>>1,n=-7,o=h?c-1:0,t=h?-1:1,c=_[T+o];for(o+=t,y=c&(1<<-n)-1,c>>=-n,n+=C;0<n;y=256*y+_[T+o],o+=t,n-=8);for(v=y&(1<<-n)-1,y>>=-n,n+=w;0<n;v=256*v+_[T+o],o+=t,n-=8);if(y===0)y=1-f;else{if(y===u)return v?NaN:1/0*(c?-1:1);v+=Math.pow(2,w),y-=f}return(c?-1:1)*v*Math.pow(2,y-w)},a.write=function(_,T,h,w,M,l){var v,C,u=8*l-M-1,f=(1<<u)-1,n=f>>1,o=M===23?Math.pow(2,-24)-Math.pow(2,-77):0,t=w?0:l-1,c=w?1:-1,l=T<0||T===0&&1/T<0?1:0;for(T=Math.abs(T),isNaN(T)||T===1/0?(C=isNaN(T)?1:0,v=f):(v=Math.floor(Math.log(T)/Math.LN2),T*(w=Math.pow(2,-v))<1&&(v--,w*=2),2<=(T+=1<=v+n?o/w:o*Math.pow(2,1-n))*w&&(v++,w/=2),f<=v+n?(C=0,v=f):1<=v+n?(C=(T*w-1)*Math.pow(2,M),v+=n):(C=T*Math.pow(2,n-1)*Math.pow(2,M),v=0));8<=M;_[h+t]=255&C,t+=c,C/=256,M-=8);for(v=v<<M|C,u+=M;0<u;_[h+t]=255&v,t+=c,v/=256,u-=8);_[h+t-c]|=128*l}}).call(this,g("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},g("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(g,d,a){(function(m,S,O,j,P,E,z,k,B){var _,T,h;function w(){}(m=d.exports={}).nextTick=(T=typeof window<"u"&&window.setImmediate,h=typeof window<"u"&&window.postMessage&&window.addEventListener,T?function(M){return window.setImmediate(M)}:h?(_=[],window.addEventListener("message",function(M){var y=M.source;y!==window&&y!==null||M.data!=="process-tick"||(M.stopPropagation(),0<_.length&&_.shift()())},!0),function(M){_.push(M),window.postMessage("process-tick","*")}):function(M){setTimeout(M,0)}),m.title="browser",m.browser=!0,m.env={},m.argv=[],m.on=w,m.addListener=w,m.once=w,m.off=w,m.removeListener=w,m.removeAllListeners=w,m.emit=w,m.binding=function(M){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(M){throw new Error("process.chdir is not supported")}}).call(this,g("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},g("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(Ne);var et=Ne.exports;const tt=he(et);var ke=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"],nt=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"],ze=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"],rt=ke,ot=rt.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"]),be=ze;be=be.slice().filter(function(p){return!/^(gl\_|texture)/.test(p)});var it=be.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"]),at=mt,st=ke,Ce=nt,ut=ze,ct=ot,lt=it,ne=999,Te=9999,ve=0,_e=1,De=2,Pe=3,je=4,ce=5,ft=6,dt=7,pt=8,Be=9,ht=10,Oe=11,gt=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function mt(p){var s=0,g=0,d=ne,a,m,S=[],O=[],j=1,P=0,E=0,z=!1,k=!1,B="",_;p=p||{};var T=ut,h=st;p.version==="300 es"&&(T=lt,h=ct);for(var w={},M={},s=0;s<T.length;s++)w[T[s]]=!0;for(var s=0;s<h.length;s++)M[h[s]]=!0;return function(U){return O=[],U!==null?v(U):C()};function y(U){U.length&&O.push({type:gt[d],data:U,position:E,line:j,column:P})}function v(U){s=0,U.toString&&(U=U.toString()),B+=U.replace(/\r\n/g,`
`),_=B.length;for(var Y;a=B[s],s<_;){switch(Y=s,d){case ve:s=t();break;case _e:s=o();break;case De:s=n();break;case Pe:s=c();break;case je:s=L();break;case Oe:s=F();break;case ce:s=R();break;case Te:s=D();break;case Be:s=f();break;case ne:s=u();break}if(Y!==s)switch(B[Y]){case`
`:P=0,++j;break;default:++P;break}}return g+=s,B=B.slice(s),O}function C(U){return S.length&&y(S.join("")),d=ht,y("(eof)"),O}function u(){return S=S.length?[]:S,m==="/"&&a==="*"?(E=g+s-1,d=ve,m=a,s+1):m==="/"&&a==="/"?(E=g+s-1,d=_e,m=a,s+1):a==="#"?(d=De,E=g+s,s):/\s/.test(a)?(d=Be,E=g+s,s):(z=/\d/.test(a),k=/[^\w_]/.test(a),E=g+s,d=z?je:k?Pe:Te,s)}function f(){return/[^\s]/g.test(a)?(y(S.join("")),d=ne,s):(S.push(a),m=a,s+1)}function n(){return(a==="\r"||a===`
`)&&m!=="\\"?(y(S.join("")),d=ne,s):(S.push(a),m=a,s+1)}function o(){return n()}function t(){return a==="/"&&m==="*"?(S.push(a),y(S.join("")),d=ne,s+1):(S.push(a),m=a,s+1)}function c(){if(m==="."&&/\d/.test(a))return d=ce,s;if(m==="/"&&a==="*")return d=ve,s;if(m==="/"&&a==="/")return d=_e,s;if(a==="."&&S.length){for(;l(S););return d=ce,s}if(a===";"||a===")"||a==="("){if(S.length)for(;l(S););return y(a),d=ne,s+1}var U=S.length===2&&a!=="=";if(/[\w_\d\s]/.test(a)||U){for(;l(S););return d=ne,s}return S.push(a),m=a,s+1}function l(U){var Y=0,q,V;do{if(q=Ce.indexOf(U.slice(0,U.length+Y).join("")),V=Ce[q],q===-1){if(Y--+U.length>0)continue;V=U.slice(0,1).join("")}return y(V),E+=V.length,S=S.slice(V.length),S.length}while(!0)}function F(){return/[^a-fA-F0-9]/.test(a)?(y(S.join("")),d=ne,s):(S.push(a),m=a,s+1)}function L(){return a==="."||/[eE]/.test(a)?(S.push(a),d=ce,m=a,s+1):a==="x"&&S.length===1&&S[0]==="0"?(d=Oe,S.push(a),m=a,s+1):/[^\d]/.test(a)?(y(S.join("")),d=ne,s):(S.push(a),m=a,s+1)}function R(){return a==="f"&&(S.push(a),m=a,s+=1),/[eE]/.test(a)||(a==="-"||a==="+")&&/[eE]/.test(m)?(S.push(a),m=a,s+1):/[^\d]/.test(a)?(y(S.join("")),d=ne,s):(S.push(a),m=a,s+1)}function D(){if(/[^\d\w_]/.test(a)){var U=S.join("");return M[U]?d=pt:w[U]?d=dt:d=ft,y(S.join("")),d=ne,s}return S.push(a),m=a,s+1}}var yt=at,vt=_t;function _t(p,s){var g=yt(s),d=[];return d=d.concat(g(p)),d=d.concat(g(null)),d}const bt=he(vt);var wt=xt;function xt(p){for(var s=[],g=0;g<p.length;g++)p[g].type!=="eof"&&s.push(p[g].data);return s.join("")}const Le=he(wt);var Mt=St;function St(p){var s=null,g=null,d=0,a=0,m=0,S=0,O=0,j=[],P,E,z;for(P=0,E;P<p.length;P++)if(z=p[P],z.data==="{"){if(d&&d++||(E=B(P,ie(")"),ie()),E<0)||(S=E,E=B(E,ie("("),ie(")")),E<0)||(O=E,E=B(E,le),E<0)||p[E].type!=="ident"||(g=p[E].data,E=B(E,le),E<0))continue;d=1,a=P,s=p[E].data,m=E;var k=B(E,le);switch(p[k]&&p[k].data){case"lowp":case"highp":case"mediump":m=k}}else if(d&&z.data==="}"){if(--d)continue;j.push({name:g,type:s,body:[a+1,P],args:[O,S+1],outer:[m,P+1]})}for(P=0;P<p.length;P++)if(z=p[P],z.data===";"){if(E=B(P,ie(")"),ie()),E<0||(S=E,E=B(E,ie("("),ie(")")),E<0)||(O=E,E=B(E,le),E<0)||p[E].type!=="ident"||(g=p[E].data,E=B(E,le),E<0)||p[E].type==="operator"||p[E].data==="return")continue;s=p[E].data,j.push({name:g,type:s,body:!1,args:[O,S+1],outer:[E,P+1]})}return j.sort(function(_,T){return _.outer[0]-T.outer[0]});function B(_,T,h){for(var w=_-1;w>=0;w--){if(T(p[w]))return w;if(h&&h(p[w]))return-1}return-1}}function ie(p){return function(s){return s.type==="operator"&&(!p||s.data===p)}}function le(p){return p.type!=="whitespace"}const Et=he(Mt);function At(p,s){if(typeof p!="object"||p===null)return p;var g=p[Symbol.toPrimitive];if(g!==void 0){var d=g.call(p,s||"default");if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(p)}function He(p){var s=At(p,"string");return typeof s=="symbol"?s:String(s)}function W(p,s,g){return s=He(s),s in p?Object.defineProperty(p,s,{value:g,enumerable:!0,configurable:!0,writable:!0}):p[s]=g,p}function Fe(p,s){var g=Object.keys(p);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(p);s&&(d=d.filter(function(a){return Object.getOwnPropertyDescriptor(p,a).enumerable})),g.push.apply(g,d)}return g}function se(p){for(var s=1;s<arguments.length;s++){var g=arguments[s]!=null?arguments[s]:{};s%2?Fe(Object(g),!0).forEach(function(d){W(p,d,g[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(g)):Fe(Object(g)).forEach(function(d){Object.defineProperty(p,d,Object.getOwnPropertyDescriptor(g,d))})}return p}function It(p,s){if(p==null)return{};var g={},d=Object.keys(p),a,m;for(m=0;m<d.length;m++)a=d[m],!(s.indexOf(a)>=0)&&(g[a]=p[a]);return g}function Ct(p,s){if(p==null)return{};var g=It(p,s),d,a;if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(p);for(a=0;a<m.length;a++)d=m[a],!(s.indexOf(d)>=0)&&Object.prototype.propertyIsEnumerable.call(p,d)&&(g[d]=p[d])}return g}function Tt(p,s){if(!(p instanceof s))throw new TypeError("Cannot call a class as a function")}function Dt(p,s){for(var g=0;g<s.length;g++){var d=s[g];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(p,He(d.key),d)}}function Pt(p,s,g){return s&&Dt(p.prototype,s),Object.defineProperty(p,"prototype",{writable:!1}),p}function Ve(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function we(p,s){return we=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,a){return d.__proto__=a,d},we(p,s)}function jt(p,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(s&&s.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),s&&we(p,s)}function pe(p){return pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},pe(p)}function Bt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ot(p,s){if(s&&(typeof s=="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ve(p)}function Lt(p){var s=Bt();return function(){var d=pe(p),a;if(s){var m=pe(this).constructor;a=Reflect.construct(d,arguments,m)}else a=d.apply(this,arguments);return Ot(this,a)}}var N={position:"csm_Position",positionRaw:"csm_PositionRaw",pointSize:"csm_PointSize",fragColor:"csm_FragColor",diffuseColor:"csm_DiffuseColor",normal:"csm_Normal",roughness:"csm_Roughness",metalness:"csm_Metalness",emissive:"csm_Emissive",ao:"csm_AO",bump:"csm_Bump",depthAlpha:"csm_DepthAlpha"},Q,ue,Ft=(Q={},W(Q,"".concat(N.normal),{"#include <beginnormal_vertex>":`
    vec3 objectNormal = `.concat(N.normal,`;
    #ifdef USE_TANGENT
	    vec3 objectTangent = vec3( tangent.xyz );
    #endif
    `)}),W(Q,"".concat(N.position),{"#include <begin_vertex>":`
    vec3 transformed = `.concat(N.position,`;
  `)}),W(Q,"".concat(N.positionRaw),{"#include <begin_vertex>":`
    vec4 csm_internal_positionUnprojected = `.concat(N.positionRaw,`;
    mat4x4 csm_internal_unprojectMatrix = projectionMatrix * modelViewMatrix;
    #ifdef USE_INSTANCING
      csm_internal_unprojectMatrix = csm_internal_unprojectMatrix * instanceMatrix;
    #endif
    csm_internal_positionUnprojected = inverse(csm_internal_unprojectMatrix) * csm_internal_positionUnprojected;
    vec3 transformed = csm_internal_positionUnprojected.xyz;
  `)}),W(Q,"".concat(N.pointSize),{"gl_PointSize = size;":`
    gl_PointSize = `.concat(N.pointSize,`;
    `)}),W(Q,"".concat(N.diffuseColor),{"#include <color_fragment>":`
    #include <color_fragment>
    diffuseColor = `.concat(N.diffuseColor,`;
  `)}),W(Q,"".concat(N.fragColor),{"#include <dithering_fragment>":`
    #include <dithering_fragment>
    gl_FragColor  = `.concat(N.fragColor,`;
  `)}),W(Q,"".concat(N.emissive),{"vec3 totalEmissiveRadiance = emissive;":`
    vec3 totalEmissiveRadiance = `.concat(N.emissive,`;
    `)}),W(Q,"".concat(N.roughness),{"#include <roughnessmap_fragment>":`
    #include <roughnessmap_fragment>
    roughnessFactor = `.concat(N.roughness,`;
    `)}),W(Q,"".concat(N.metalness),{"#include <metalnessmap_fragment>":`
    #include <metalnessmap_fragment>
    metalnessFactor = `.concat(N.metalness,`;
    `)}),W(Q,"".concat(N.ao),{"#include <aomap_fragment>":`
    #include <aomap_fragment>
    reflectedLight.indirectDiffuse *= 1. - `.concat(N.ao,`;
    `)}),W(Q,"".concat(N.bump),{"#include <normal_fragment_maps>":`
    #include <normal_fragment_maps>

    vec3 csm_internal_orthogonal = `.concat(N.bump," - (dot(").concat(N.bump,`, normal) * normal);
    vec3 csm_internal_projectedbump = mat3(csm_internal_vModelViewMatrix) * csm_internal_orthogonal;
    normal = normalize(normal - csm_internal_projectedbump);
    `)}),W(Q,"".concat(N.depthAlpha),{"gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );":`
      gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity * `.concat(N.depthAlpha,` );
    `),"gl_FragColor = packDepthToRGBA( fragCoordZ );":`
      gl_FragColor = packDepthToRGBA( fragCoordZ );
      gl_FragColor.a *= `.concat(N.depthAlpha,`;
    `)}),Q),Ut=(ue={},W(ue,"".concat(N.position),{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":`
    gl_Position = projectionMatrix * modelViewMatrix * vec4( `.concat(N.position,`, 1.0 );
  `)}),W(ue,"".concat(N.positionRaw),{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":`
    gl_Position = `.concat(N.position,`;
  `)}),W(ue,"".concat(N.diffuseColor),{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":`
    gl_FragColor = `.concat(N.diffuseColor,`;
  `)}),W(ue,"".concat(N.fragColor),{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":`
    gl_FragColor = `.concat(N.fragColor,`;
  `)}),ue),Rt=`

#ifdef IS_VERTEX
    // csm_Position & csm_PositionRaw
    #ifdef IS_UNKNOWN
        vec3 csm_Position = vec3(0.0);
        vec4 csm_PositionRaw = vec4(0.0);
        vec3 csm_Normal = vec3(0.0);
    #else
        vec3 csm_Position = position;
        vec4 csm_PositionRaw = projectionMatrix * modelViewMatrix * vec4(position, 1.);
        vec3 csm_Normal = normal;
    #endif

    // csm_PointSize
    #ifdef IS_POINTSMATERIAL
        float csm_PointSize = size;
    #endif
#else
    // csm_DiffuseColor & csm_FragColor
    #if defined IS_UNKNOWN || defined IS_SHADERMATERIAL || defined IS_MESHDEPTHMATERIAL || defined IS_MESHNORMALMATERIAL || defined IS_SHADOWMATERIAL
        vec4 csm_DiffuseColor = vec4(1.0, 0.0, 1.0, 1.0);
        vec4 csm_FragColor = vec4(1.0, 0.0, 1.0, 1.0);
    #else
        #ifdef USE_MAP
            vec4 _csm_sampledDiffuseColor = texture2D(map, vMapUv);

            #ifdef DECODE_VIDEO_TEXTURE
            // inline sRGB decode (TODO: Remove this code when https://crbug.com/1256340 is solved)
            _csm_sampledDiffuseColor = vec4(mix(pow(_csm_sampledDiffuseColor.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), _csm_sampledDiffuseColor.rgb * 0.0773993808, vec3(lessThanEqual(_csm_sampledDiffuseColor.rgb, vec3(0.04045)))), _csm_sampledDiffuseColor.w);
            #endif

            vec4 csm_DiffuseColor = vec4(diffuse, opacity) * _csm_sampledDiffuseColor;
            vec4 csm_FragColor = vec4(diffuse, opacity) * _csm_sampledDiffuseColor;
        #else
            vec4 csm_DiffuseColor = vec4(diffuse, opacity);
            vec4 csm_FragColor = vec4(diffuse, opacity);
        #endif
    #endif

    // csm_Emissive, csm_Roughness, csm_Metalness
    #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL
        vec3 csm_Emissive = emissive;
        float csm_Roughness = roughness;
        float csm_Metalness = metalness;
    #endif

    // csm_AO
    #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL || defined IS_MESHBASICMATERIAL || defined IS_MESHLAMBERTMATERIAL || defined IS_MESHPHONGMATERIAL || defined IS_MESHTOONMATERIAL
        float csm_AO = 0.0;
    #endif

    // csm_Bump
    #if defined IS_MESHLAMBERTMATERIAL || defined IS_MESHMATCAPMATERIAL || defined IS_MESHNORMALMATERIAL || defined IS_MESHPHONGMATERIAL || defined IS_MESHPHYSICALMATERIAL || defined IS_MESHSTANDARDMATERIAL || defined IS_MESHTOONMATERIAL || defined IS_SHADOWMATERIAL 
        vec3 csm_Bump = vec3(0.0);
    #endif

    float csm_DepthAlpha = 1.0;
#endif
`,Nt=`
    varying mat4 csm_internal_vModelViewMatrix;
`,kt=`
    csm_internal_vModelViewMatrix = modelViewMatrix;
`,zt=`
    varying mat4 csm_internal_vModelViewMatrix;
`,Ht=`
    
`,ee,Vt=(ee={},W(ee,"".concat(N.position),"*"),W(ee,"".concat(N.positionRaw),"*"),W(ee,"".concat(N.normal),"*"),W(ee,"".concat(N.pointSize),["PointsMaterial"]),W(ee,"".concat(N.diffuseColor),"*"),W(ee,"".concat(N.fragColor),"*"),W(ee,"".concat(N.emissive),["MeshStandardMaterial","MeshPhysicalMaterial"]),W(ee,"".concat(N.roughness),["MeshStandardMaterial","MeshPhysicalMaterial"]),W(ee,"".concat(N.metalness),["MeshStandardMaterial","MeshPhysicalMaterial"]),W(ee,"".concat(N.ao),["MeshStandardMaterial","MeshPhysicalMaterial","MeshBasicMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial"]),W(ee,"".concat(N.bump),["MeshLambertMaterial","MeshMatcapMaterial","MeshNormalMaterial","MeshPhongMaterial","MeshPhysicalMaterial","MeshStandardMaterial","MeshToonMaterial","ShadowMaterial"]),W(ee,"".concat(N.depthAlpha),"*"),ee),Wt=["baseMaterial","fragmentShader","vertexShader","uniforms","patchMap","cacheKey","silent"],qt=function(s,g,d){return s.split(g).join(d)},Yt=function(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},Xt=function(s,g){return new RegExp("\\b".concat(Yt(g),"\\b")).test(s)};function Kt(p){try{new p}catch(s){if(s.message.indexOf("is not a constructor")>=0)return!1}return!0}function Gt(p,s){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;Object.assign(p,s);var d=Object.getPrototypeOf(s);Object.entries(Object.getOwnPropertyDescriptors(d)).filter(function(a){var m=typeof a[1].get=="function",S=typeof a[1].set=="function",O=typeof a[1].value=="function",j=a[0]==="constructor";return(m||S||O)&&!j}).forEach(function(a){if(typeof p[a[0]]=="function"){g||console.warn("Function ".concat(a[0]," already exists on CSM, renaming to base_").concat(a[0]));var m="base_".concat(a[0]);p[m]=a[1].value.bind(p);return}Object.defineProperty(p,a[0],a[1])})}function Zt(p){var s=p.toString().trim(),g=s.substring(s.indexOf("{")+1,s.lastIndexOf("}"));return g.trim().length===0}function Ue(p){return p.replace(/\s/g,"")}function $t(p,s,g){var d=p.lastIndexOf(s);return d===-1?p:p.substring(0,d)+g+p.substring(d+s.length)}var Re=function(p){jt(g,p);var s=Lt(g);function g(d){var a,m=d.baseMaterial,S=d.fragmentShader,O=d.vertexShader,j=d.uniforms,P=d.patchMap,E=d.cacheKey,z=d.silent,k=Ct(d,Wt);Tt(this,g);var B;if(Kt(m)?B=new m(k):(B=m,Object.assign(B,k)),B.type==="RawShaderMaterial")throw new Error("CustomShaderMaterial does not support RawShaderMaterial");a=s.call(this),Gt(Ve(a),B,z),a.__csm={patchMap:P||{},fragmentShader:S||"",vertexShader:O||"",cacheKey:E,baseMaterial:m,instanceID:We.generateUUID(),type:B.type,isAlreadyExtended:!Zt(B.onBeforeCompile),cacheHash:"",silent:z},a.uniforms=se(se({},a.uniforms||{}),j||{});{var _=a.__csm,T=_.fragmentShader,h=_.vertexShader,w=a.uniforms;a.__csm.cacheHash=a.getCacheHash(),a.generateMaterial(T,h,w)}return a}return Pt(g,[{key:"update",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.uniforms=a.uniforms||this.uniforms,Object.assign(this.__csm,a);var m=this.__csm,S=m.fragmentShader,O=m.vertexShader,j=this.uniforms,P=this.getCacheHash();this.__csm.cacheHash=P,this.generateMaterial(S,O,j)}},{key:"clone",value:function(){var a={baseMaterial:this.__csm.baseMaterial,fragmentShader:this.__csm.fragmentShader,vertexShader:this.__csm.vertexShader,uniforms:this.uniforms,silent:this.__csm.silent,patchMap:this.__csm.patchMap,cacheKey:this.__csm.cacheKey},m=new this.constructor(a);return Object.assign(this,m),m}},{key:"getCacheHash",value:function(){var a=this.__csm,m=a.fragmentShader,S=a.vertexShader,O=this.uniforms,j=Object.values(O).reduce(function(E,z){var k=z.value;return E+JSON.stringify(k)},""),P=Ue(m)+Ue(S)+j;return P.trim().length>0?tt(P):this.customProgramCacheKey()}},{key:"generateMaterial",value:function(a,m,S){var O=this,j=this.parseShader(a),P=this.parseShader(m);this.uniforms=S||{},this.customProgramCacheKey=function(){return O.__csm.cacheHash};var E=function(B){try{if(j){var _=O.patchShader(j,B.fragmentShader,!0);B.fragmentShader=O.getMaterialDefine()+_}if(P){var T=O.patchShader(P,B.vertexShader);B.vertexShader=`#define IS_VERTEX;
`+T,B.vertexShader=O.getMaterialDefine()+B.vertexShader}B.uniforms=se(se({},B.uniforms),O.uniforms),O.uniforms=B.uniforms}catch(h){console.error(h)}};if(this.__csm.isAlreadyExtended){var z=this.onBeforeCompile;this.onBeforeCompile=function(k,B){z(k,B),E(k)}}else this.onBeforeCompile=E;this.needsUpdate=!0}},{key:"patchShader",value:function(a,m,S){var O=this,j=m,P=se(se({},this.getPatchMapForMaterial()),this.__csm.patchMap);Object.keys(P).forEach(function(k){Object.keys(P[k]).forEach(function(B){var _=Vt[k],T=O.__csm.type;if(k==="*"||Xt(a.main,k))if(!_||Array.isArray(_)&&_.includes(T)||_==="*")j=qt(j,B,P[k][B]);else throw new Error("CSM: ".concat(k," is not available in ").concat(T,". Shader cannot compile."))})}),j=j.replace("void main() {",`
        #ifndef CSM_IS_HEAD_DEFAULTS_DEFINED
          `.concat(S?zt:Nt,`
          #define CSM_IS_HEAD_DEFAULTS_DEFINED 1
        #endif

        `).concat(a.header,`
        
        void main() {
          #ifndef CSM_IS_DEFAULTS_DEFINED
            `).concat(Rt,`
            #define CSM_IS_DEFAULTS_DEFINED 1
          #endif
          
          #ifndef CSM_IS_MAIN_DEFAULTS_DEFINED
            `).concat(S?Ht:kt,`
            #define CSM_IS_MAIN_DEFAULTS_DEFINED 1
          #endif

          // CSM_START
      `));var E=this.__csm.isAlreadyExtended,z=j.includes("// CSM_END");return E&&z?j=$t(j,"// CSM_END",`
          // CSM_END
          `.concat(a.main,`
          // CSM_END
        `)):j=j.replace("// CSM_START",`
        // CSM_START
        `.concat(a.main,`
        // CSM_END
          `)),j=a.defines+j,j}},{key:"parseShader",value:function(a){if(a){var m=a.replace(/\/\*\*(.*?)\*\/|\/\/(.*?)\n/gm,""),S=bt(m),O=Et(S),j=O.map(function(z){return z.name}).indexOf("main"),P=Le(S.slice(0,j>=0?O[j].outer[0]:void 0)),E=j>=0?this.getShaderFromIndex(S,O[j].body):"";return{defines:"",header:P,main:E}}}},{key:"getMaterialDefine",value:function(){var a=this.__csm.type;return a?"#define IS_".concat(a.toUpperCase(),`;
`):`#define IS_UNKNOWN;
`}},{key:"getPatchMapForMaterial",value:function(){switch(this.__csm.type){case"ShaderMaterial":return Ut;default:return Ft}}},{key:"getShaderFromIndex",value:function(a,m){return Le(a.slice(m[0],m[1]))}}]),g}(qe);function en(p){const s=Ye({ballColor:{value:"#0000ff"},ballColor2:{value:"#ff0000"},metalness:{value:0,min:0,max:1},roughness:{value:1,min:0,max:1},transmission:{value:0,min:0,max:1},thickness:{value:.5,min:0,max:1},ior:{value:1.5,min:1,max:2},uPositionFrequency:{value:.5,min:0,max:2},uTimeFrequency:{value:.3,min:0,max:2},uStrength:{value:.3,min:0,max:1},uWarpPositionFrequency:{value:.38,min:0,max:2},uWarpTimeFrequency:{value:.12,min:0,max:2},uWarpStrength:{value:1.7,min:0,max:2}}),g={uTime:new oe(0),uPositionFrequency:new oe(s.uPositionFrequency),uTimeFrequency:new oe(s.uTimeFrequency),uStrength:new oe(s.uStrength),uWarpPositionFrequency:new oe(s.uWarpPositionFrequency),uWarpTimeFrequency:new oe(s.uWarpTimeFrequency),uWarpStrength:new oe(s.uWarpStrength),ballColor:new oe(new Ae(s.ballColor)),ballColor2:new oe(new Ae(s.ballColor2))},d=new Re({baseMaterial:new Xe,vertexShader:Ie,fragmentShader:Qe,silent:!0,metalness:s.metalness,roughness:s.roughness,transmission:s.transmission,thickness:s.thickness,ior:s.ior,transparent:!0,wireframe:!1,uniforms:g}),a=new Re({baseMaterial:new Ke,vertexShader:Ie,uniforms:g,silent:!0,depthPacking:Ge});let m=new Ze(2.5,50);return m=Je(m),m.computeTangents(),$e(()=>{g.uTime.value+=.01}),ye.jsx(ye.Fragment,{children:ye.jsx("mesh",{castShadow:!0,material:d,customDepthMaterial:a,geometry:m})})}export{en as default};
//# sourceMappingURL=shader-DJQzeHDc.js.map
